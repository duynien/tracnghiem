<!doctype html>
<html lang="en" xmlns:sec="http://www.w3.org/1999/xhtml">

<head>
    <title>Quản trị</title>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.css"
          integrity="sha512-5A8nwdMOWrSz20fDsjczgUidUBR8liPYU+WymTZP1lmY9G6Oc7HlZv156XqnsgNUzTyMefFTcsFH/tnJE/+xBg=="
          crossorigin="anonymous" referrerpolicy="no-referrer"/>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link rel="stylesheet" th:href="@{/css/admin.css}">
</head>

<body>
<div class="modal fade" id="modal-lesson" data-backdrop="static" aria-labelledby="staticBackdropLabel"
     aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header align-content-end">
                <h3 class="text-center"><i class="fa fa-gg" aria-hidden="true"></i></h3>
                <button class="btn-close" data-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <form method="post" id="form_add_lesson">
                    <h3 class="text-center text-uppercase">Thêm chủ
                        đề
                    </h3>
                    <div class="form-group mb-2">
                        <label class="fw-bold my-2">Tên chủ đề</label>
                        <input type="text" class="form-control" name="title" placeholder="VD:(Trắc nghiệm IT)">
                    </div>
                    <div class="form-group mb-3">
                        <label class="fw-bold my-2">Miêu tả chủ đề</label>
                        <textarea class="my_title form-control" name="description" rows="3"></textarea>
                    </div>
                    <div class="form-group mb-3">
                        <label class="fw-bold my-2">Ảnh chủ đề</label>
                        <input type="hidden" role="uploadcare-uploader" name="image"
                               data-public-key="72791b85ba57a284b745"/>
                    </div>
                    <label class="fw-bold my-2">Phổ biến</label>
                    <select name="ishot" class="form_add_lesson_hot form-select mb-2">
                        <option value="true">Hot</option>
                        <option value="false">Không hot</option>
                    </select>
                    <button class="btn btn-primary button-effect">Xác nhận<i class="fa fa-arrow-right"
                                                                             aria-hidden="true"></i></button>
                </form>
            </div>
        </div>
    </div>
</div>
<div class="modal fade" id="modal-topic" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1"
     aria-labelledby="staticBackdropLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="text-center"><i class="fa fa-gg" aria-hidden="true"></i></h3>
                <button type="button" class="btn-close" data-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <form method="post" id="form_add_topic" action="">
                    <h3 class="text-center text-uppercase">Thêm
                        topic
                    </h3>
                    <select name="lessonId" class="form-select">
                    </select>
                    <div class="form-group mb-2">
                        <label class="fw-bold my-2">Tên Topic</label>
                        <input name="name" type="text" class="form-control" placeholder="Java,Python...">
                    </div>
                    <div class="form-group">
                        <label class="fw-bold my-2">Ảnh chủ đề</label>
                        <input type="hidden" role="uploadcare-uploader" name="image"
                               data-public-key="72791b85ba57a284b745"/>
                    </div>
                    <label class="fw-bold my-2">Phổ biến</label>
                    <select name="ishot" class="form_add_topic_hot form-select mb-2">
                        <option value="true">Hot</option>
                        <option value="false">Không hot</option>
                    </select>
                    <button class="btn btn-primary button-effect">Xác nhận<i class="fa fa-arrow-right"
                                                                             aria-hidden="true"></i></button>
                </form>
            </div>
        </div>
    </div>
</div>
<div class="modal fade" id="modal-code" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1"
     aria-labelledby="staticBackdropLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="text-center"><i class="fa fa-gg" aria-hidden="true"></i></h3>
                <button type="button" class="btn-close" data-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <form method="post" id="form_add_code" action="">
                    <h3 class="text-center text-uppercase">Thêm
                        mã đề
                    </h3>
                    <label class="fw-bold my-2">Chủ đề</label>
                    <select name="lessonId" class="form-select form_add_code-lesson">
                    </select>
                    <label class="fw-bold my-2">Topic</label>
                    <select name="topic" class="form-select form_add_code-topic">
                    </select>
                    <label class="fw-bold my-2">Miêu tả thêm về mã đề</label>
                    <textarea class="form-control" id="description-code" name="description" rows="3"></textarea>
                    </select>
                    <div class="form-group mb-2">
                        <label class="fw-bold my-2">Mã đề</label>
                        <input name="code" type="text" class="form-control" placeholder="123,345...">
                    </div>
                    <button class="btn btn-primary button-effect">Xác nhận<i class="fa fa-arrow-right"
                                                                             aria-hidden="true"></i></button>
                </form>
            </div>
        </div>
    </div>
</div>
<div class="container-fluid mb-5" style="position: relative;">
    <div class="row" style="padding: 0 15px 15px 15px;">
        <div class="main col-9 overflow-scroll" style="height: 100vh">
            <div class="tabs row p-3">
                <div class="col-xl-3 col-md-6 tab-item active see-point">
                    <i class="fa fa-eye" aria-hidden="true"></i>Xem danh sách điểm thi
                </div>
                <div class="col-xl-3 col-md-6 tab-item see-question">
                    <i class="fa fa-question-circle" aria-hidden="true"></i>Xem danh sách câu hỏi
                </div>
                <div class="col-xl-3 col-md-6 tab-item add-question">
                    <i class="fa fa-plus-square" aria-hidden="true"></i>Thêm mới câu hỏi
                </div>
                <div class="col-xl-3 col-md-6 tab-item services">
                    <i class="fa fa-plus-square" aria-hidden="true"></i>Tùy chọn
                </div>
            </div>
            <!-- ĐIỂM THI -->
            <div class="tab-table-point my-3 row">
                <div class="simple-search w-50 mb-3">
                    <input class="inp-search-rs" type="text" autocomplete="off" placeholder="Search by username"/>
                    <button class="btn-search-rs"><i class="fa fa-search"></i></button>
                </div>
                <!-- Danh sách môn -->
                <nav class="nav_summary navbar navbar-expand-lg navbar-light bg-light">
                    <div class="w-100">
                        <ul class="navbar-nav h-100 d-flex justify-content-around align-content-around nav-course">
                        </ul>
                    </div>
                </nav>
                <nav style="display: none;" class="nav_full navbar navbar-expand-lg navbar-light bg-light">
                    <div class="card w-100">
                        <ul
                                class="row navbar-nav d-flex justify-content-around align-content-around nav-course-full">
                        </ul>
                    </div>
                </nav>
                <table class="table" style="background: #34495e">
                    <thead>
                    <tr class="table-dark">
                        <th scope="col">Username</th>
                        <th scope="col">Mã đề</th>
                        <th scope="col">Tên bài thi</th>
                        <th scope="col">Số câu</th>
                        <th scope="col">Số điểm</th>
                    </tr>
                    </thead>
                    <tbody class="table-content-result">
                    </tbody>
                </table>
                <nav aria-label="Page navigation example" class="d-flex justify-content-center">
                    <ul class="pagination pagination-result">
                    </ul>
                </nav>
            </div>
            <!-- Danh sách câu hỏi -->
            <div class="tab-list-question row" style="display: none;">
                <div class="mt-2">
                    <label class="fw-bold" style="width: 70px;">Chủ đề</label>
                    <select name="lesson" class="form-select mx-2 w-25 d-inline list-question-lesson">
                    </select>
                    <label class="fw-bold" style="width: 70px;">Topic</label>
                    <select name="topic" class="form-select mx-2 w-25 d-inline list-question-topic">
                    </select>
                    <br>
                    <div class="mt-2">
                        <label class="fw-bold" style="width: 70px;">Mã đề</label>
                        <select name="code" class="form-select mx-2 w-25 d-inline list-question-code">
                        </select>
                        <button style="padding: 8px;" class="mx-0 btn-filter position-relative"><i
                                class="fa fa-search"></i></button>
                    </div>
                </div>
                <div class="row list-question-content mt-3">
                    <h3 class="fw-bold">Chọn mã đề</h3>
                </div>
                <nav aria-label="Page navigation example">
                    <ul class="pagination justify-content-center mt-3 pagination-filter-question">
                    </ul>
                </nav>
                <div class="modal fade" tabindex="-1" id="modal-edit-question">
                    <div class="modal-dialog" style="max-width:50%;">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h5 class="modal-title">FORM EDIT</h5>
                                <button type="button" class="btn-close" data-dismiss="modal"
                                        aria-label="Close"></button>
                                </button>
                            </div>
                            <div class="modal-body">
                                <form method="post" id="form_edit" action="">
                                    <div class="modal-body_id"></div>
                                    <div class="modal-body_content">
                                        <div class="form-group my-2">
                                            <label>Câu hỏi</label>
                                            <textarea class="form-control" id="name_question_edit"
                                                      name="name_question" rows="3"></textarea>
                                        </div>
                                    </div>
                                    <div class="modal-body_ans"></div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- FORM ADD -->
            <div class="tab-add-question" style="display: none;">
                <div class="mt-2 d-flex align-items-center">
                    <label class="fw-bold">Chủ đề</label>
                    <select name="lesson" class="form-select mx-2 w-25 d-inline lesson">
                    </select>
                    <button class="mx-2 btn btn-outline-primary btn-lesson-of-add" data-toggle="modal"
                            data-target="#modal-lesson">Thêm chủ đề
                    </button>
                    <button class="mx-2 btn btn-outline-primary btn-topic-of-add" data-toggle="modal"
                            data-target="#modal-topic">Thêm
                        topic
                    </button>
                    <button class="mx-2 btn btn-outline-primary btn-code-of-add" data-toggle="modal"
                            data-target="#modal-code">Thêm
                        mã đề
                    </button>
                </div>
                <nav class="nav_add p-0 mt-2 navbar navbar-expand-lg navbar-light bg-light">
                    <div class="w-100">
                        <ul class="navbar-nav h-100 d-flex justify-content-around align-content-around nav-topic">
                        </ul>
                    </div>
                </nav>
                <form method="post" id="form_add" action="">
                    <!-- <h3 class="text-center"><i class="fa fa-gg" aria-hidden="true"></i></h3> -->
                    <h3 class="text-center text-uppercase">add new
                        question</h3>
                    <div class="row">
                        <div class="form-group col-3">
                            <label class="fw-bold">Mã đề số</label>
                            <select name="codeQuestionId" class="form-select" id="codeQuestionId">
                            </select>
                        </div>
                        <div class="form-group col-3">
                            <label class="fw-bold">Độ khó</label>
                            <select name="level" class="form-select">
                                <option value="difficult">Khó</option>
                                <option value="normal">Bình thường</option>
                                <option value="easy">Dễ</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-group mb-3">
                        <label class="fw-bold my-2">Câu hỏi</label>
                        <textarea class="name_question_text form-control" name="name_question" rows="3"></textarea>
                    </div>
                    <div class="row">
                        <div class="col-6 d-flex mb-3">
                            <label class="m-0 d-flex align-items-center fw-bold" style="width: calc(100% / 3);"
                            >Đáp án
                                A</label>
                            <input required="required" type="text" name="answerAnsw_A" class="form-control">
                        </div>
                        <div class="col-6 d-flex mb-3">
                            <label class="m-0 d-flex align-items-center fw-bold" style="width: calc(100% / 3);"
                            >Đáp án
                                B</label>
                            <input required="required" type="text" name="answerAnsw_B" class="form-control">
                        </div>
                        <div class="col-6 d-flex mb-3">
                            <label class="m-0 d-flex align-items-center fw-bold" style="width: calc(100% / 3);"
                            >Đáp án
                                C</label>
                            <input required="required" type="text" name="answerAnsw_C" class="form-control">
                        </div>
                        <div class="col-6 d-flex mb-3">
                            <label class="m-0 d-flex align-items-center fw-bold" style="width: calc(100% / 3);"
                            >Đáp án
                                D</label>
                            <input required="required" type="text" name="answerAnsw_D" class="form-control">
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-6">
                            <label class="mb-2 fw-bold">Đáp án đúng</label>
                            <select name="answerCorrect_ans" class="form-select w-25" id="correct_ans">
                                <option value="A">A</option>
                                <option value="B">B</option>
                                <option value="C">C</option>
                                <option value="D">D</option>
                            </select>
                        </div>
                        <div class="col-6 d-flex flex-column align-content-end p-0">
                            <label class="invisible">FFFF</label>
                            <button class="custom-btn btn-12 btn-search-code"><span>Click!</span><span>Submit</span>
                            </button>
                        </div>
                    </div>
                </form>
            </div>
            <!-- SERVICES -->
            <div class="tab-services row" style="display: none;">
                <div class="modal fade" id="modal-edit-lesson" tabindex="-1" aria-labelledby="exampleModalLabel"
                     aria-hidden="true">
                    <div class="modal-dialog">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h5 class="modal-title">Modal title</h5>
                                <button type="button" class="btn-close" data-dismiss="modal"
                                        aria-label="Close"></button>
                            </div>
                            <div class="modal-body">
                                <form id="form-edit-lesson">
                                    <div class="form-edit-lesson-part-1">
                                    </div>
                                    <div class="form-group">
                                        <label class="fw-bold form-label">Miêu tả</label>
                                        <textarea class="form-control" id="description-lesson" name="description"
                                                  rows="3"></textarea>
                                    </div>
                                    <div class="form-edit-lesson-part-2">
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal fade" id="modal-edit-topic" tabindex="-1" aria-labelledby="exampleModalLabel"
                     aria-hidden="true">
                    <div class="modal-dialog">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h5 class="modal-title">Modal title</h5>
                                <button type="button" class="btn-close" data-dismiss="modal"
                                        aria-label="Close"></button>
                            </div>
                            <div class="modal-body">
                                <form id="form-edit-topic">
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
                <nav class="nav-services navbar navbar-expand-lg navbar-light bg-light">
                    <div class="w-100">
                        <ul class="navbar-nav h-100 d-flex justify-content-around align-content-around nav-service">
                            <li class="nav-item">
                                <button class="btn nav-service-item nav-service-lesson">Lesson</button>
                            </li>
                            <li class="nav-item">
                                <button class="btn nav-service-item nav-service-topic ">Topic</button>
                            </li>
                            <li class="nav-item">
                                <button class="btn nav-service-item nav-service-topic ">Bài đăng</button>
                            </li>
                        </ul>
                    </div>
                </nav>
                <table class="table caption-top">
                    <thead>
                    <tr class="nav-table-lesson table-primary nav-table text-center">
                        <th scope="col">Tiêu đề</th>
                        <th scope="col">Miêu tả</th>
                        <th scope="col">Hot</th>
                        <th scope="col">Ảnh</th>
                        <th>Sửa</th>
                    </tr>
                    <tr class="nav-table-topic table-primary nav-table" style="display: none;">
                        <th scope="col">Tên</th>
                        <th scope="col">Hot</th>
                        <th scope="col">Ảnh</th>
                        <th>Sửa</th>
                        <th>Xóa</th>
                    </tr>
                    </thead>
                    <tbody class="table-service-content">

                    </tbody>
                </table>
                <div class="post py-3" style="display: none;">
                    <form id="post-form" autocomplete="off">
                        <div class="content-post-form">
                        </div>
                        <button class="post-form-submit">Thay đổi</button>
                    </form>
                </div>
            </div>
        </div>
        <div class="notification col-3 rounded">
            <div class="username d-flex p-3">
                <span id="username_avt"></span>
                <h5 class="mx-2 my-0 d-flex align-items-center text-uppercase" id="username_cont"
                    sec:authentication="name"></h5>
                <button class="btn btn-danger p-0">
                    <a href="/logout" id="logout" class="text-white nav-link d-flex align-items-center">Logout</a>
                </button>
            </div>
            <div class="notice_content">
                <ul class="notice_content_name p-0 overflow-scroll">
                </ul>
            </div>
        </div>
    </div>
</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.0/jquery.min.js"
        integrity="sha512-b6lGn9+1aD2DgwZXuSY4BhhdrDURVzu7f/PASu4H1i5+CRpEalOOz/HNhgmxZTK9lObM1Q7ZG9jONPYz8klIMg=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script src="https://cdn.tiny.cloud/1/0l814uwwlm1ep237ekms2l8ncvokiqeasekns39jag4vujli/tinymce/5/tinymce.min.js"
        referrerpolicy="origin"></script>
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
        integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
        crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.1/moment.min.js"
        integrity="sha512-qTXRIMyZIFb8iQcfjXWCO8+M5Tbc38Qi5WzdPOYZHIlZpzBHG3L3by84BBBOiRGiEb7KKtAOAs5qYdUiZiQNNQ=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.17.1/moment-with-locales.min.js"></script>
<script src="https://ucarecdn.com/libs/widget/3.x/uploadcare.min.js" charset="utf-8"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/sockjs-client/1.1.4/sockjs.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/stomp.js/2.3.3/stomp.min.js"></script>
<!-- HAND AVATAR ADMIN VS INIT TINYMCE -->
<script>
    tinymce.init({
        selector: '#description-lesson'
    });
    tinymce.init({
        selector: '#description-code'
    });
    tinymce.init({
        selector: '#name_question_edit'
    });
    tinymce.init({
        selector: '.my_title'
    });
    tinymce.init({
        selector: ".name_question_text",
        menubar: false,
        plugins: "image imagetools",
        toolbar:
            "undo redo | styleselect | forecolor | bold italic | alignleft aligncenter alignright alignjustify | outdent indent | link image",
        image_title: true,
        automatic_uploads: true,
        height: "375",
        file_picker_callback: function (cb, value, meta) {
            var input = document.createElement("input");
            input.setAttribute("type", "file");
            input.setAttribute("accept", "image/*");
            input.onchange = function () {
                var file = this.files[0];
                var reader = new FileReader();
                reader.onload = function () {
                    var id = "blobid" + new Date().getTime();
                    var blobCache = tinymce.activeEditor.editorUpload.blobCache;
                    var base64 = reader.result.split(",")[1];
                    var blobInfo = blobCache.create(id, file, base64);
                    blobCache.add(blobInfo);
                    cb(blobInfo.blobUri(), {title: file.name});
                };
                reader.readAsDataURL(file);
            };
            input.click();
        },
        content_css: "./css/tinymce.css",
    });
</script>
<script th:src="@{/js/admin.js}"></script>
<script th:src="@{/js/handleadmin.js}"></script>
</body>

</html>